from snorkel.labeling import labeling_function
from utils import ABSTAIN, BENIGN, MALICIOUS, ADULT
from content_filter import Filter



@labeling_function()
def lf_plain_text_adult_content_filter(x):
    adult_keywords = ['sex', 'porn', 'hot','erotic']
    filter = Filter()
    filter.add_words(adult_keywords)
    plain_text = x['plain_text']
    if filter.check(plain_text).as_bool:
        return ADULT
    return ABSTAIN

# filter.add_words(['word1', 'word2', 'word2'])
# adds words to default filter

# filter.add_exceptions(['word1', 'word2', 'word2'])
# ignores words in default filter

# print(filter.check('this is the message that will get checked against the default filter'))
# print(filter.check('message to filter').as_bool)

# print(filter.check('f***').as_bool)